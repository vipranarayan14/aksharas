{"mappings":"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","sources":["src/index.ts","src/token.ts","src/tokenize.ts","src/char.ts","src/deva-char-types.ts"],"sourcesContent":["import { Token, TokenType } from \"./token\";\nimport { tokenize } from \"./tokenize\";\n\ntype Results = {\n  all: Token[];\n  aksharas: Token[];\n  //   varnas: Token[] /* Yet to be implemented */;\n  symbols: Token[];\n  whitespaces: Token[];\n  chars: string[];\n  invalid: Token[];\n  unrecognised: Token[];\n  varnasLength: number /* Will be deprecated */;\n};\n\nconst calcTotalVarnasLength = (tokens: Token[]) =>\n  tokens.reduce(\n    (total, akshara) =>\n      akshara.attributes ? total + akshara.attributes.varnasLength : total,\n    0\n  );\n\nconst filterTokens = (tokens: Token[], tokenType: TokenType) =>\n  tokens.filter((token) => token.type === tokenType);\n\nconst analyse = (input: string): Results => {\n  const tokens = tokenize(input);\n\n  const aksharas = filterTokens(tokens, TokenType.Akshara);\n\n  //   const varnas = [];\n\n  const chars = input.split(\"\");\n\n  const symbols = filterTokens(tokens, TokenType.Symbol);\n\n  const invalidChars = filterTokens(tokens, TokenType.Invalid);\n\n  const whitespaces = filterTokens(tokens, TokenType.Whitespace);\n\n  const unrecognisedChars = filterTokens(tokens, TokenType.Unrecognised);\n\n  const varnasLength = calcTotalVarnasLength(aksharas);\n\n  return {\n    all: tokens,\n    aksharas: aksharas,\n    // varnas: varnas,\n    chars: chars,\n    symbols: symbols,\n    invalid: invalidChars,\n    whitespaces: whitespaces,\n    unrecognised: unrecognisedChars,\n    varnasLength: varnasLength,\n  };\n};\n\nconst Aksharas = {\n  analyse,\n  TokenType,\n};\n\nexport default Aksharas;\n","export enum TokenType {\n  Akshara = \"akshara\",\n  Symbol = \"symbol\",\n  Whitespace = \"whitespace\",\n  Invalid = \"invalid\",\n  Unrecognised = \"unrecognised\",\n}\n\nexport type TokenAttributes = Record<string, any>;\n\nexport class Token {\n  readonly type: TokenType;\n  readonly value: string;\n  readonly from: number;\n  readonly to: number;\n  readonly attributes?: TokenAttributes;\n\n  constructor(\n    type: TokenType,\n    value: string,\n    pos: number,\n    attributes?: TokenAttributes\n  ) {\n    this.type = type;\n    this.value = value;\n    this.from = pos;\n    this.to = pos + (value.length - 1);\n    this.attributes = attributes;\n  }\n\n  //   Only for debugging\n  //   toString = () => this.value;\n}\n","import { Char } from \"./char\";\nimport { Token, TokenAttributes, TokenType } from \"./token\";\n\nenum State {\n  Initial,\n  Vowel,\n  Consonant,\n  ConjunctConsonant,\n}\n\nexport const tokenize = (input: string): Token[] => {\n  const tokens: Token[] = [];\n\n  let pos = 0;\n  let acc = \"\";\n  let varnasLength: number = 0;\n  let state = State.Initial;\n\n  const resetVariables = () => {\n    pos = 0;\n    acc = \"\";\n    varnasLength = 0;\n    state = State.Initial;\n  };\n\n  const createToken = (tokenType: TokenType, attributes?: TokenAttributes) => {\n    tokens.push(new Token(tokenType, acc, pos, attributes));\n    resetVariables();\n  };\n\n  for (let i = 0, l = input.length; i < l; i += 1) {\n    const char = new Char(input[i]);\n\n    const nextChar = new Char(input[i + 1]);\n\n    acc += char.value;\n\n    switch (state) {\n      case State.Initial: {\n        pos = i;\n\n        if (char.isOm()) {\n          createToken(TokenType.Akshara, { varnasLength: 2 });\n          break;\n        }\n\n        if (char.isSymbol()) {\n          createToken(TokenType.Symbol);\n          break;\n        }\n\n        if (char.isWhitespace()) {\n          createToken(TokenType.Whitespace);\n          break;\n        }\n\n        if (char.isUnrecognised()) {\n          createToken(TokenType.Unrecognised);\n          break;\n        }\n\n        if (char.isVowel()) {\n          if (nextChar.isVowelAttachment()) {\n            state = State.Vowel;\n            break;\n          }\n\n          createToken(TokenType.Akshara, { varnasLength: 1 });\n          break;\n        }\n\n        if (char.isConsonant()) {\n          if (nextChar.isNukta() || nextChar.isConsonantAttachment()) {\n            varnasLength += 1;\n            state = State.Consonant;\n            break;\n          }\n\n          createToken(TokenType.Akshara, { varnasLength: 2 });\n          break;\n        }\n\n        createToken(TokenType.Invalid);\n        break;\n      }\n\n      case State.Vowel: {\n        if (char.isAccent()) {\n          createToken(TokenType.Akshara, { varnasLength: 1 });\n          break;\n        }\n\n        if (char.isYogavaha()) {\n          if (nextChar.isAccent()) {\n            break;\n          }\n\n          createToken(TokenType.Akshara, { varnasLength: 1 });\n          break;\n        }\n\n        break;\n      }\n\n      case State.Consonant: {\n        if (char.isNukta()) {\n          if (nextChar.isConsonantAttachment()) {\n            break;\n          }\n\n          createToken(TokenType.Akshara, { varnasLength: 2 });\n          break;\n        }\n\n        if (char.isVirama()) {\n          if (nextChar.isJoiner()) {\n            break;\n          }\n\n          if (nextChar.isConsonant()) {\n            state = State.ConjunctConsonant;\n            break;\n          }\n\n          createToken(TokenType.Akshara, { varnasLength });\n          break;\n        }\n\n        if (char.isJoiner()) {\n          if (nextChar.isJoiner()) {\n            break;\n          }\n\n          if (nextChar.isConsonant()) {\n            state = State.ConjunctConsonant;\n            break;\n          }\n\n          createToken(TokenType.Akshara, { varnasLength });\n          break;\n        }\n\n        if (char.isVowelMarkAttachment()) {\n          if (nextChar.isAccent()) {\n            break;\n          }\n\n          varnasLength += 1;\n          createToken(TokenType.Akshara, { varnasLength });\n          break;\n        }\n\n        if (char.isVowelMark()) {\n          if (nextChar.isVowelMarkAttachment()) {\n            break;\n          }\n\n          varnasLength += 1;\n          createToken(TokenType.Akshara, { varnasLength });\n          break;\n        }\n      }\n\n      case State.ConjunctConsonant: {\n        if (nextChar.isNukta() || nextChar.isConsonantAttachment()) {\n          varnasLength += 1;\n          state = State.Consonant;\n          break;\n        }\n\n        varnasLength += 2;\n        createToken(TokenType.Akshara, { varnasLength });\n        break;\n      }\n\n      default: {\n        break;\n      }\n    }\n  }\n\n  return tokens;\n};\n","import { DEVA_CHAR_TYPES } from \"./deva-char-types\";\n\nenum CharType {\n  Vowel = \"vowels\",\n  Symbol = \"symbols\",\n  VowelMark = \"vowel_marks\",\n  Yogavaha = \"yogavaahas\",\n  Accent = \"accents\",\n  Virama = \"virama\",\n  Nukta = \"nukta\",\n  ZWNJ = \"zwnj\",\n  ZWJ = \"zwj\",\n  Consonant = \"consonants\",\n  ExtraConsonant = \"extra_consonants\",\n  Whitespace = \"whitespace\",\n  Unrecognised = \"unrecognised\",\n  EndOfInput = \"end_of_input\",\n}\n\nconst OM = \"ॐ\";\nconst MATRAS = [\"१\", \"२\", \"३\"];\n\nexport class Char {\n  value: string;\n  type: CharType;\n\n  constructor(value: string) {\n    this.value = value;\n    this.type = this.getCharType(value);\n  }\n\n  getCharType = (char: string): CharType => {\n    if (char === undefined) return CharType.EndOfInput;\n\n    if (/\\s/.test(char)) return CharType.Whitespace;\n\n    return DEVA_CHAR_TYPES[char] ?? CharType.Unrecognised;\n  };\n\n  isVowel = () => this.type === CharType.Vowel;\n\n  isConsonant = () =>\n    [CharType.Consonant, CharType.ExtraConsonant].includes(this.type);\n\n  isOm = () => this.value === OM;\n\n  isSymbol = () => this.type === CharType.Symbol;\n\n  isVowelMark = () => this.type === CharType.VowelMark;\n\n  isYogavaha = () => this.type === CharType.Yogavaha;\n\n  isAccent = () => this.type === CharType.Accent;\n\n  isVirama = () => this.type === CharType.Virama;\n\n  isNukta = () => this.type === CharType.Nukta;\n\n  isMatra = () => MATRAS.includes(this.value);\n\n  isJoiner = () => [CharType.ZWNJ, CharType.ZWJ].includes(this.type);\n\n  isWhitespace = () => this.type === CharType.Whitespace;\n\n  isUnrecognised = () => this.type === CharType.Unrecognised;\n\n  isEndOfInput = () => this.type === CharType.EndOfInput;\n\n  isVowelAttachment = () => this.isYogavaha() || this.isAccent();\n\n  isConsonantAttachment = () =>\n    this.isVirama() ||\n    this.isYogavaha() ||\n    this.isAccent() ||\n    this.isVowelMark() ||\n    this.isMatra();\n\n  isVowelMarkAttachment = () =>\n    this.isYogavaha() || this.isAccent() || this.isMatra();\n\n  //   Only for debugging\n  //   toString = () => this.value;\n}\n","export const DEVA_CHAR_TYPES: Record<string, any> = {\n  अ: \"vowels\",\n  आ: \"vowels\",\n  इ: \"vowels\",\n  ई: \"vowels\",\n  उ: \"vowels\",\n  ऊ: \"vowels\",\n  ऋ: \"vowels\",\n  ॠ: \"vowels\",\n  ऌ: \"vowels\",\n  ॡ: \"vowels\",\n  ऎ: \"vowels\",\n  ए: \"vowels\",\n  ऐ: \"vowels\",\n  ऒ: \"vowels\",\n  ओ: \"vowels\",\n  औ: \"vowels\",\n  ऍ: \"vowels\",\n  ऑ: \"vowels\",\n  क: \"consonants\",\n  ख: \"consonants\",\n  ग: \"consonants\",\n  घ: \"consonants\",\n  ङ: \"consonants\",\n  च: \"consonants\",\n  छ: \"consonants\",\n  ज: \"consonants\",\n  झ: \"consonants\",\n  ञ: \"consonants\",\n  ट: \"consonants\",\n  ठ: \"consonants\",\n  ड: \"consonants\",\n  ढ: \"consonants\",\n  ण: \"consonants\",\n  त: \"consonants\",\n  थ: \"consonants\",\n  द: \"consonants\",\n  ध: \"consonants\",\n  न: \"consonants\",\n  प: \"consonants\",\n  फ: \"consonants\",\n  ब: \"consonants\",\n  भ: \"consonants\",\n  म: \"consonants\",\n  य: \"consonants\",\n  र: \"consonants\",\n  ल: \"consonants\",\n  व: \"consonants\",\n  श: \"consonants\",\n  ष: \"consonants\",\n  स: \"consonants\",\n  ह: \"consonants\",\n  ळ: \"consonants\",\n  क्ष: \"consonants\",\n  ज्ञ: \"consonants\",\n  क़: \"extra_consonants\",\n  ख़: \"extra_consonants\",\n  ग़: \"extra_consonants\",\n  ज़: \"extra_consonants\",\n  ड़: \"extra_consonants\",\n  फ़: \"extra_consonants\",\n  य़: \"extra_consonants\",\n  ऱ: \"extra_consonants\",\n  ऴ: \"extra_consonants\",\n  ऩ: \"extra_consonants\",\n  \"ा\": \"vowel_marks\",\n  \"ि\": \"vowel_marks\",\n  \"ी\": \"vowel_marks\",\n  \"ु\": \"vowel_marks\",\n  \"ू\": \"vowel_marks\",\n  \"ृ\": \"vowel_marks\",\n  \"ॄ\": \"vowel_marks\",\n  \"ॢ\": \"vowel_marks\",\n  \"ॣ\": \"vowel_marks\",\n  \"ॆ\": \"vowel_marks\",\n  \"े\": \"vowel_marks\",\n  \"ै\": \"vowel_marks\",\n  \"ॊ\": \"vowel_marks\",\n  \"ो\": \"vowel_marks\",\n  \"ौ\": \"vowel_marks\",\n  \"ॅ\": \"vowel_marks\",\n  \"ॉ\": \"vowel_marks\",\n  \"ं\": \"yogavaahas\",\n  \"ः\": \"yogavaahas\",\n  \"ँ\": \"yogavaahas\",\n  ᳵ: \"yogavaahas\",\n  ᳶ: \"yogavaahas\",\n  ꣳ: \"yogavaahas\",\n  \"्\": \"virama\",\n  \"़\": \"nukta\",\n  \"‍\": \"zwj\",\n  \"‌\": \"zwnj\",\n  \"॑\": \"accents\",\n  \"॒\": \"accents\",\n  \"᳡\": \"accents\",\n  \"꣡\": \"accents\",\n  \"꣢\": \"accents\",\n  \"꣣\": \"accents\",\n  \"꣤\": \"accents\",\n  \"꣥\": \"accents\",\n  \"꣦\": \"accents\",\n  \"꣧\": \"accents\",\n  \"꣨\": \"accents\",\n  \"꣩\": \"accents\",\n  \"꣪\": \"accents\",\n  \"꣫\": \"accents\",\n  \"꣬\": \"accents\",\n  \"꣭\": \"accents\",\n  \"꣮\": \"accents\",\n  \"꣯\": \"accents\",\n  \"꣰\": \"accents\",\n  \"꣱\": \"accents\",\n  \"०\": \"symbols\",\n  \"१\": \"symbols\",\n  \"२\": \"symbols\",\n  \"३\": \"symbols\",\n  \"४\": \"symbols\",\n  \"५\": \"symbols\",\n  \"६\": \"symbols\",\n  \"७\": \"symbols\",\n  \"८\": \"symbols\",\n  \"९\": \"symbols\",\n  ॐ: \"symbols\",\n  ऽ: \"symbols\",\n  \"।\": \"symbols\",\n  \"॥\": \"symbols\",\n};\n"],"names":[],"version":3,"file":"index.cjs.map"}